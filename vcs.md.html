<meta vim:set syntax=markdown:>
<meta charset="utf-8">
<link rel="stylesheet" href="default.css">

**VCS**

<meta name="keywords" content="*memo_vcs*">

<meta name="keywords" content="*memo_git*">
git
=======================================================

## Links

- [Git](https://git-scm.com/)
- [GitHub](https://github.com/)
- [GitLab](https://about.gitlab.com/)
- [サルでもわかるGit入門](https://www.backlog.jp/git-guide/)
- [TortoiseGit](https://tortoisegit.org/)
- [git manual](https://git.github.io/htmldocs/git.html)
- [GitHub GIT CHEAT SHEET](files/github-git-cheat-sheet.pdf)

## workflow

![Git](images/git.svg)

### HEAD
~~~
HEAD^n   # n番目の親
HEAD~n   # n世代前の親
~~~

### add, commit, push
~~~
git add {file}          # ステージング
git commit              # ローカルレポジトリにコミット
git push origin master  # リモートレポジトリoriginにpush
~~~

### add and commit / reset
~~~
git add {file}
git commit -m "message"

git reset --soft HEAD^
git reset {file}

or

git reset [--mixed] HEAD^
~~~

### discard changes
~~~
git checkout [--] {paths}            # discard changes
~~~

### stage/unstage
~~~
git add {file}                       # stage
git reset [tree-ish] [--] {paths}    # unstage
~~~

### track/untrack files
~~~
git add {file}
git rm --cached    {file} # untrack file
git rm --cached -r {dir}  # untrack dir
git ls-files              # list tracked files
git ls-files -o --directory # list untracked files
~~~

### chmod (Windows)
~~~
git update-index --add --chmod=(+|-)x {file}  # add|remove exec permission
git ls-files -s                               # show filemode of tracked files
git config -l | grep filemode                 # show filemode setting
~~~

<meta name="keywords" content="*memo_git-status*">
## information
~~~
git status
git status -sb            # show status in short format
git log                   # show commit log
git reflog                # show reflog
git ls-files              # list tracked files
git branch -a [-vv]       # list local and remote branches [verbose]
git remote -v             # list remote repositories
git rev-parse --show-cdup
git rev-parse --abbrev-ref HEAD  # branch name
git rev-parse --short HEAD       # commit hash
~~~

<meta name="keywords" content="*memo_git-config*">
## config
~~~
git config --global user.name {name}
git config --global user.email {email}
git config --global core.autocrlf input
git config -l       # list config
~~~

<meta name="keywords" content="*memo_git-init*">
## make a remote repository
~~~
mkdir myproj.git
cd myproj.git
git init --bare
~~~

## make a local repository

<meta name="keywords" content="*memo_git-clone*">
### clone
~~~
git clone URL [work_dir]

URL=https://path/myproj.git
URL=X:/path/myproj.git
~~~

### init
~~~
mkdir myproj
cd myproj
git init
git remote add origin URL
~~~

<meta name="keywords" content="*memo_git-remote*">
## remote repository
~~~
git remote add     origin URL  # connect oring to URL
git remote set-url origin URL  # set origin to URL
git remote rename {src} {dst}  # rename
git remote rm origin           # disconnect origin
git remote prune origin        # prune remote branches
git remote show origin         # show info of the remote repository
git remote -v                  # list remote repositories
~~~

<meta name="keywords" content="*memo_git-fetch*">
<meta name="keywords" content="*memo_git-pull*">
<meta name="keywords" content="*memo_git-push*">
## remote branch
~~~
git fetch
git fetch --prune         # prune remote branches
git pull [origin master]  # fetch + merge
git push [origin master]
git push origin :{branch} # remove the remote branch
~~~

<meta name="keywords" content="*memo_git-add*">
## add
~~~
git add {file}   # ファイルをtraced fileにする
git add .        # カレントディレクトリのすべてのファイルをtraced fileにする
git add -u       # add updated file
~~~

<meta name="keywords" content="*memo_git-reset*">
## reset
~~~
git reset [tree-ish] [--] {paths}  # unstage
git reset --hard    [commit]       # reset [work, add, commit]
git reset [--mixed] [commit]       # reset [add, commit]
git reset --soft    [commit]       # reset [commit]
~~~

<meta name="keywords" content="*memo_git-commit*">
## commit
~~~
git commit
git commit -a                       # 変更されたtraced fileをaddしてcommit
git commit -m "message"             # メッセージをつけてコミット
git commit --amend --author="name"  # 名前を変えてコミットしなおす
~~~

## commit message
~~~
一行目は概要
二行目は空行
三行目以降に詳細
- 現在形で記述する
~~~

<meta name="keywords" content="*memo_git-checkout*">
## checkout
~~~
git checkout    {branch}                 # ブランチへ移動
git checkout -b {branch}                 # ブランチを作成して移動
git checkout -b {branch} {origin/branch} # リモートブランチをチェックアウト
git checkout [--] {paths}                # ファイルをリポジトリから取り出す -- 以降はファイル名として扱う (ファイル名がブランチ名と被るのを避ける)
~~~

<meta name="keywords" content="*memo_git-branch*">
## branch
~~~
git branch    {branch}  # ブランチの作成
git branch -d {branch}  # ブランチの削除
git branch -m {branch}  # 現在のブランチ名の変更
git branch -a           # ブランチの表示
~~~

<meta name="keywords" content="*memo_git-tag*">
## tag
~~~
git tag    {name}         # タグの作成
git tag -d {name}         # タグの削除
git tag                   # タグ一覧
git show {name}           # タグ情報
git push origin {name}    # タグをリモートに反映
git push origin --tags    # 全てのタグをリモートに反映
git push origin :{name}   # リモートタグ削除
git ls-remote --tags      # リモートタグ一覧
~~~

<meta name="keywords" content="*memo_git-merge*">
## merge
~~~
git merge {branch}      # 指定したブランチを現在のブランチに統合する
git merge --continue    # after resolving conflicts
git merge --abort       # cancel

[master] --o--H
            \
[branch]     o--B

git merge B

[master] --o--o---H
            \    /
[branch]     o--B

~~~

<meta name="keywords" content="*memo_git-rebase*">
## rebase
~~~
git rebase {branch}     # 現在のブランチの派生元を指定したブランチに変更する
git rebase -i {branch}  # コミット編集
git rebase --continue   # after resolving conflicts
git rebase --abort      # cancel

[master] --o--M
            \
[branch]     o--H

git rebase M

[master] --o--M
               \ 
[branch]        o--H

~~~

<meta name="keywords" content="*memo_git-cherry-pick*">
## cherry-pick
~~~
git cherry-pick {commit}
~~~

<meta name="keywords" content="*memo_git-stash*">
## stash
~~~
git stash
git stash pop
git stash clear
git stash list
~~~

<meta name="keywords" content="*memo_git-worktree*">
## worktree
~~~
git worktree add {worktree} {branch}
git worktree prune                     # worktree を削除後実行
git worktree list                      # list worktrees
~~~

<meta name="keywords" content="*memo_git-submodule*">
## submodule
### add submodule
~~~
git submodule add URL [dir]
~~~

### update submodule
~~~
git submodule init
git submodule update
git submodule update --init --recursive
~~~

### remove submodule
~~~
git submodule deinit [-f] {module}
git rm {module}
~~~

<meta name="keywords" content="*memo_git-diff*">
## diff
~~~
git diff rev1 rev2 {file}|{dir}
git diff [--cached] [<commit>]
~~~

<meta name="keywords" content="*memo_git-svn*">
git-svn
=======================================================

git                         | git-svn                      | svn                               
----------------------------|------------------------------|-----------------------------------
git clone URL               | git svn clone URL            | svn checkout URL                  
git fetch                   | git svn fetch                |
git pull                    | git svn rebase               | svn update                        
git commit                  |                              |
git push                    | git svn dcommit              | svn commit                        
git add FILE/DIR            |                              | svn add FILE/DIR                  
git rm FILE                 |                              | svn rm FILE/DIR                   
git rm -r DIR               |                              |
git mv SRC DST              |                              | svn mv SRC DST
git checkout -- FILE        |                              | svn revert FILE                   
git checkout BRANCH         |                              | svn switch URL                    
git branch BRANCH           | git svn branch BRANCH        | svn copy URL URL                  
git tag TAG                 | git svn tag TAG              | svn copy URL URL                  
git merge BRANCH            |                              | svn merge -r REV1:REV2 URL        
git remote -v               | git svn info                 |                                   
git status                  |                              | svn status                        
git log                     |                              | svn log                           
git diff                    |                              | svn diff                          

## git-svn
~~~
git svn clone file:///x/path/myproj   # msys2
git svn clone X:/path/myproj          # gitbash
~~~

<meta name="keywords" content="*memo_svn*">
svn
=======================================================

## create repositry by TortoiseSVN

1. create directory
2. TortoiseSVN > Create repositry here

## checkout by TortoiseSVN
SVN Checkout...
~~~
URL of repositry:
  file:///X:/path/myproj
Checkout directory:
  X:\path\myproj
~~~

<style class="fallback">body{visibility:hidden}</style>
<script src="markdeep.min.js"></script>
<script src="https://casual-effects.com/markdeep/latest/markdeep.min.js"></script>
