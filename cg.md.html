<meta vim:set syntax=markdown:>
<meta charset="utf-8">
<link rel="stylesheet" href="default.css">

<meta name="keywords" content="*memo_cg*">
**CG**

<meta name="keywords" content="*memo_cg.glsl*">
GLSL
=======================================================

<meta name="keywords" content="*memo_cg.opengl*">
OpenGL
=======================================================
- Right-handed coordinate system
- X-right
- Y-up
- Z-front
- Matrix
    - Column order memory
- [Column-major, Row-major](https://qiita.com/suzuryo3893/items/9e543cdf8bc64dc7002a)

~~~
M = M_n * ... * M_0 * v

M =
    0 4  8 12
    1 5  9 13
    2 6 10 14
    3 7 11 15

T =
    1 0 0 x
    0 1 0 y
    0 0 1 z
    0 0 0 1
~~~

<meta name="keywords" content="*memo_cg.unity*">
Unity
=======================================================
- Left-handed coordinate system
- X-left
- Y-up
- Z-front
- Matrix
    - Column order memory
- [Unity matrix](http://edom18.hateblo.jp/entry/2019/01/04/153205)

![unity](images/model_unity.jpg)

DirectX
=======================================================
- Left-handed coordinate system
- Matrix
    - Row order memory

MeshLab
=======================================================
- Right-handed coordinate system
- X-right
- Y-up
- Z-front

![meshlab](images/model_meshlab.jpg)

## UV表示
- Render > Show UV Tex Param

## 法線表示
- Render > Show Normal

## Bounding Boxの情報表示
- Render > Show Box Corners

## 法線をそろえる
- Filters > Normals, ... > Re-Orient all faces coherently

<meta name="keywords" content="*memo_cg.blender*">
Blender
=======================================================
## Disable in Renders
- Filter > Disable in Renders

## Coordinate System
- Right-handed coordinate system
  - X-right
  - Y-back
  - Z-up
- blender = opengl
  - x y z = x z -y

![blender](images/model_blender.jpg)

## Create Sphere
- Add > Mesh > UV Sphere
- Object > Shade Smooth

## Key
### View
key                  | command
---                  | ---
Shift + Middle Mouse | translation
Middle Mouse         | rotation
wheel                | zoom

### Object
key                  | command
---                  | ---
A                    | add
x                    | delete
g                    | translate in x, y, z axis
gx                   | translate along x axis
gy                   | translate along y axis
gz                   | translate along z axis
gX                   | translate except x axis
gY                   | translate except y axis
gZ                   | translate except z axis
s                    | scale
r                    | rotate

### Camera
key         | command
---         | ---
camera view | カメラアイコン, Num0, View > View Point > Camera
g??         | translate in local axis
gzz         | zoom in/out
gZZ         | pan
rxx         | pitch
ryy         | yaw
rzz         | roll

### Others
key                  | command
---                  | ---
ESC                  | cancel
F12                  | rendering

## Property
### Render
- Render Engine: Cycles
- Device: GPU
- Motion Blur

### View
- Denoising

### World
- Environment Texture

### Particle
- Children > Simple
  - Display Amount
  - Render Amount
- Kink
- Hair Dynamics

## AO
- 「AOベイク」で3Dモデルのクオリティを上げよう！
  - https://virtualcast.jp/blog/2020/04/blender_bake_ao/
  - https://github.com/SavMartin/TexTools-Blender
  - https://github.com/SavMartin/TexTools-Blender/releases
- 手順
  - Window > UV Editor
  - 右上Tab > TexTools
  - Baking
  - AO
  - Size
  - Samples

## Python API
- https://docs.blender.org/api/current/index.html
- https://docs.blender.org/api/2.83

## BSDF
- https://docs.blender.org/manual/en/latest/render/shader_nodes/shader/principled.html
- https://docs.blender.org/manual/en/latest/render/shader_nodes/shader/hair_principled.html

## BSDF (Arnold)
- https://docs.arnoldrenderer.com/display/A5AFMUG/Standard+Surface
- https://docs.arnoldrenderer.com/display/A5AFMUG/Standard+Hair

## 回転中心を指定
1. 点を選択して、
  Mesh > Snap > Cursor to Selected
2. Object Modeにして、
  Tools > Transform > Set Origin > Origin to 3D Cursor

## 親子関係作成
子, 子, 子, ..., 親の順に選択して、
Ctrl + P > Object

## 形状作成
Create > Cube

- 右マウスクリック ... オブジェクトの選択
- Shift + 右マウスクリック ... オブジェクトの追加選択
- Ctrl + マニュピレーター ... グリッド単位で移動

Tools > Edit > Duplicate

- Ctrl押しながら移動でグリッド単位の移動、左クリックで決定
- 真ん中クリックで軸選択

## Gridを作る
TAB ... エディットモードに入る
Tools > Loop Cut and Slide
-> 等間隔にしか切れない

## 数値パッドを表示
N

## ユーザー設定
File > User Preferences...

## カメラ
- View > Persp/Ortho
- View > Front

## カメラ移動
- 真ん中マウスドラッグ ... 回転
- 左マウスドラッグ ... 移動
- ホイール ... ズーム

- 左マウスクリック ... カーソル配置

## オブジェクトモード
- 右マウスクリック ... オブジェクトの選択
- Shift + 右マウスクリック ... オブジェクトの追加選択
- A ... 全選択/解除
- X ... 削除
- Ctrl + マニュピレーター ... グリッド単位で移動
- Shift + A ... Add

## 他のレイヤへ移動
オブジェクト選択 > M > 移動先レイヤ選択

## エディットモード
- TAB ... オブジェクトモード/エディットモード切替
- B ... 矩形選択

## 連続面選択
面選択 > Select > Linked Flat Faces

## 選択領域のオブジェクト分割
選択 > P > Selection

## 面張り
選択 > F

## 選択オブジェクトの保存
選択 > Export > Selection Only (左のオプション)

## 面分割
Ctrl + R

## 法線の反転
選択 > Faces > Flip Normals

<meta name="keywords" content="*memo_cg.eigen*">
Eigen
=======================================================
- Column order memory
- Row major calc

## the order of multiplying matrix
\begin{equation}
v' = M_n * M_{n-1} * ... * M_2 * M_1 * v
\end{equation}

## Matrix
- Matrix3f m(row, col)
- m(row, col)
- column-major storage order

## Vector
- Vector3f(row)
- RowVector3f(col)

~~~
typedef Matrix<float, 3, 1> Vector3f;
typedef Matrix<float, 1, 3> RowVector3f;
~~~

<meta name="keywords" content="*memo_cg.glm*">
glm
=======================================================
~~~
# uninitialized matrix
glm::mat4 m;

# identity matrix
glm::mat4 m(1.0f);

# pointer to data
float* p = &(m[0][0])

# ortho proj
glm::mat4 proj = glm::ortho<float>(0, w, 0, h);
(0, 0) (w, h) -> (-1, -1) (1, 1)
~~~

<meta name="keywords" content="*memo_cg.opencv*">
OpenCV
=======================================================
## Type
         | description
---------|---------------------------
CV_8UC1  | 8bit unsigned 1 channel
CV_32FC2 | 32bit float 2 channel

<meta name="keywords" content="*memo_cg.imgui*">
imgui
=======================================================
## demo
- ShowDemoWindow()

<style class="fallback">body{visibility:hidden}</style>
<script src="markdeep.min.js"></script>
<script src="https://casual-effects.com/markdeep/latest/markdeep.min.js"></script>
